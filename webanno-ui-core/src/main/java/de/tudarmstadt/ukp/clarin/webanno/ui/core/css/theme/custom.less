/*******************************************************************************
 * Copyright 2017
 * Ubiquitous Knowledge Processing (UKP) Lab and FG Language Technology
 * Technische UniversitÃ¤t Darmstadt
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *  
 *  http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/

html, body {
  font-family: 'Open Sans', Frutiger, Calibri, 'Myriad Pro', Myriad, sans-serif;
  min-height: 100%;
  max-height: 100%;
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
}

.page-header {
  margin: 0px;
  padding: 0px;
  flex: none;
}

.page-content {
  flex: 1;
  height: 100%;
  width: 100%;
}

.page-footer {
  flex: none;
  min-height: @page-footer-height; 
  height: @page-footer-height;
  overflow: hidden;
  margin-top: 0px; 
  margin-bottom: 0px; 
  text-align: center; 
  font-size: @font-size-base; 
  padding-left: ceil((@grid-gutter-width / 2));
  padding-right: floor((@grid-gutter-width / 2));
  color: @navbar-default-color;
  background-color: @navbar-default-bg;
  border-color: @navbar-default-border;
  border-top: 1px solid;
  
  a, a:hover, a:focus {
  	color: black;
  }
}

.feedback-panel {
  position: fixed;
  bottom: @page-footer-height;
  z-index: 1000;
  min-width: 30%;
  max-height: ~"calc(100vh - " @page-footer-height ~" - " @page-header-height ~")";
  overflow: auto;
 
  ul.feedbackPanel {
    list-style:none;
  }

  .alert {
    padding-top: 5px;
    padding-bottom: 5px;
    margin-bottom: 10px;
  }  
}

.navbar {
  margin-bottom: 0px;
  position: relative;
  border: none;
  border-bottom: 1px solid;
  
  .navbar-extra-link img {
    padding-top: 5px;
    padding-bottom: 5px;
    margin-left: 15px;
      height: 40px;
  }
  
  .navbar-header .navbar-center {
    position: absolute;
    left: calc(50% - 400px / 2);
    width: 400px;
    text-align: center;
  } 
  
  .navbar-header .navbar-brand {
    padding-top: 5px;
    padding-bottom: 5px;
    line-height: 40px;
    font-size: 25px;
    line-height: unset;
  } 
}

.nav {
  .logo {
    height: 40px;
  }

  .pageicon {
    height: 40px;
  }
}

.nav-pills img {
  padding-right: 15px;
}

.page-content > .row {
  margin-right: 0px;
  margin-left: 0px;
}

.form-group .k-widget,
.form-group .k-textbox {
  width: 100%;
}

/* Allow text in non-editable span values in forms to break. Maintain minimal height. */
span.form-control {
  word-wrap: break-word;
  height: auto;
  min-height: @input-height-base;
}

/* Fix header font in Wicket modal windows */
.w_caption h3 {
  font-size: 18px;
}

.w_content_container .fluid-container {
  margin-left: 15px;
  margin-right: 15px;
}

.panel { 
  margin-bottom: ceil(@grid-gutter-width / 2);
}

.panel-small {
  margin-bottom: ceil(@grid-gutter-width / 4);
  
  .panel-title {
    font-size: @font-size-small;
  }
  
  .panel-heading {
    padding-top: 1px;
    padding-bottom: 1px;
  }  
}

.form-horizontal hr {
  margin-top: 5px;
  margin-bottom: 5px;
}

.vert-aligned {
  vertical-align: middle !important;
}

/* Faciliate Wicket modal windows with fixed button bar at the bottom */
.w_flex .w_content_container { overflow: hidden !important; }
.w_flex .w_content_container > div { height: 100%; }
.w_flex .w_flex_container { display: flex; flex-direction: column; height: 100%; }
.w_flex .w_flex_content { flex: 1; overflow: auto; padding-top: 15px; padding-bottom: 15px; }
.w_flex .w_flex_footer { flex: none; } 

/* Full-page master-detail view */
.master-detail-container { display: flex; max-height: 100%; height: 100%; width: 100%; }
.master-detail-overview { flex-basis: 20%; flex-shrink: 0; flex-grow: 0; height: 100%; }
.master-detail-overview > * { display: none }
.master-detail-editor { flex-grow: 1; padding: 15px; }

/* Flexed Bootstrap panel */
.panel-flex {
  display: flex; 
  flex-direction: column;
  
  .panel-heading { flex: none; }
  .panel-body { flex: 1; }
  .panel-footer { flex: none; }
  .panel-footer .form-group { margin-bottom: 0px; }
}

.min-content-height {
  min-height: -moz-min-content;
  min-height: -webkit-min-content;
  min-height: min-content;
}

.notice-container {
  position: absolute;
  bottom: 20px;
}

/* Flex layout helpers as CSS classes - order matters! */
.flex-h-container { display: flex; flex-direction: row; }
.flex-h-container.flex-gutter > * { margin-left: ceil(@grid-gutter-width / 2) }
.flex-h-container.flex-no-gutter > .panel { margin-bottom: 0px; }
.flex-h-container.flex-gutter > .panel { margin-bottom: 0px; }
.flex-h-container.flex-gutter > *:last-child { margin-right: floor(@grid-gutter-width / 2) }
.flex-h-container.flex-gutter > .flex-v-container.flex-gutter > .flex-h-container.flex-gutter > *:first-child { margin-left: 0px; }
.flex-h-container.flex-gutter > .flex-v-container.flex-gutter > .flex-h-container.flex-gutter > *:last-child { margin-right: 0px; }
.flex-h-container.flex-no-initial-gutter > *:first-child { margin-left: 0px; }
.flex-h-container.flex-only-internal-gutter > *:first-child { margin-left: 0px; }
.flex-h-container.flex-only-internal-gutter > *:last-child { margin-right: 0px; }

.flex-v-container.flex-no-gutter > .panel { margin-bottom: 0px; } /* Has to be first here! */
.flex-v-container.flex-gutter > .panel { margin-bottom: 0px; } /* Has to be first here! */
.flex-v-container { display: flex; flex-direction: column; }
.flex-v-container.flex-gutter > * { margin-top: (@grid-gutter-width / 2) }
.flex-v-container.flex-gutter > *:last-child { margin-bottom: floor(@grid-gutter-width / 2) }
.flex-v-container.flex-gutter > .flex-h-container.flex-gutter > .flex-v-container.flex-gutter > *:first-child { margin-top: 0px; }
.flex-v-container.flex-gutter > .flex-h-container.flex-gutter > .flex-v-container.flex-gutter > *:last-child { margin-bottom: 0px; }
.flex-v-container.flex-only-internal-gutter > *:first-child { margin-top: 0px; }
.flex-v-container.flex-only-internal-gutter > *:last-child { margin-bottom: 0px; }

.flex-centered { align-items: center; }
.flex-centered > * { margin: 0px; }

.flex-static-item { flex: none; }
.flex-growing-item { flex: 1; }
.flex-sidebar { flex-basis: 20%; flex-grow: 0; flex-shrink: 0; }
.flex-content { flex: 1; }
.flex-content .scrolling { flex-basis: 0; }

.flex-tile-container { display: flex; flex-flow: row wrap; }
.flex-tile { box-sizing: border-box; flex: 1; flex-basis: 30em; }

.scrolling { overflow: auto; }
.v-scrolling { overflow-y: auto; }
.h-scrolling { overflow-x: auto; }

/* Annotation editor pages - general layout */
.annotation-editor-container {
  .collapsed {
    flex-basis: 39px !important;
  }
}

/* Helpers for content which has a hard adjusting to its parents dimensions or which tries to
   control its parents dimensions but shouldn't, e.g SVG or multi-select*/
.fit-child-snug { position: relative; min-height: 6em; }
.fit-child-snug > * { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; resize: none; border: none; }
.fit-child-snug_2 { position: relative; min-height: 6em; }
.fit-child-snug_2 > * { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; resize: none; border: none; overflow-x: auto}
.fit-child-loose { position: relative; min-height: 6em; }
.fit-child-loose > * { position: absolute; left: 5px; right: 5px; top: 5px; bottom: 5px; resize: none; }

/* style for the warning popover in the page footer */
.dev-warnings {
	.alert {
	  padding: 0px 5px 0px 5px;
	  border: none;
	  color: yellow;
	  background-color: red;
	}
	
 .popover-content ul {
    padding-left: 18px;
  }
  
  a, a:hover, a:focus {
	  color: yellow;
  }
}

/* remove top border in tabbed panels */
ul.nav.nav-tabs + div.panel.panel-default {
  border-top:none;
  border-top-left-radius:0;
  border-top-right-radius:0;
}

.nav.nav-tabs > li > a {
  padding: 2px 15px; 
}

/* Fixes to brat CSS */
#commentpopup {
  text-align: initial;
}

/* Class for disabled links (doesn't really disable the link, but it looks like it)*/
a.disabled {
  pointer-events: none;
  cursor: default;
}

.bootstrap-select.bs-container .dropdown-menu {
  z-index: 21060 !important;
}

.bs3.bootstrap-select .dropdown-toggle .filter-option, .k-autocomplete .k-input {
	padding-top: 0px;
	padding-bottom: 0px;
}

.action-bar {
	padding: 5px;
	background-color: grey;
	display: flex;
	flex-direction: row;
	align-items: center;

	> * {
		padding-left: @grid-gutter-width / 4;
		padding-right: @grid-gutter-width / 4;
	}
		
	.action-bar-group {
		padding: 2px;
		background-color: lightgrey;
    border-radius: 5px;
		display: flex;
		flex-direction: row;
		align-items: center;
		flex: 0;
	}
	
	.action-bar-group-title {
		padding-left: @grid-gutter-width / 2;
		padding-right: @grid-gutter-width / 2;
	}
}

.no-data-notice {
  display: flex;
  color: grey;
  background-color: @panel-footer-bg; 
  font-style: italic; 
  justify-content: center; 
  align-items: center;
}

.panel-body {
	.no-data-notice {
		margin: -5px;
	}
}

.feature-editor-label {
	.make-sm-column(3);
}

.feature-editor-label + .feature-editor-value {
	.make-sm-column(9);
}

.feature-editor-value {
	.make-sm-column(12);
}

// Make the JQuery context menu fit in nicely with the rest of the theme instead of showing up in
// bright orange
.ui-menu {
	text-align: left;
	
	.ui-menu-item {
		.ui-menu-item-wrapper.ui-state-active {
			color: @component-active-color;
			background-color: @component-active-bg;
			background-image: none;
		}
	}
}

// A class for something that needs to be there in order to get events but should not actually be
// visible to the user (i.e. use no space)
.there-but-not-visible {
	width: 1px; 
	height: 1px; 
	overflow: hidden; 
	opacity: 0; 
	margin-top: -1px;
}

// Adjust the Kendo dropdowns (i.e. the combo box) to use less vertical space and be more in line
// with the other Bootstrap inputs
.k-dropdown-wrap {
	.k-input {
		padding: 0px !important;
	}
	
	.k-select {
		line-height: 2em !important;
	}
}

// Make sure that the Kendo dropdnwos (i.e. the combo box) fits nicely into Bootstrap input groups
.input-group {
	.k-dropdown-wrap {
		border: 0px;
	}
}

// Make sure Kendo icons show in input groups where the input groups are rendered with a 
// z-index of 2
.input-group {
	.k-icon {
		z-index: 3;
	}
}